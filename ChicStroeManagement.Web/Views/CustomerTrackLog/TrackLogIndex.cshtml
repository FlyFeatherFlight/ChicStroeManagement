@model PagedList.IPagedList<ChicStoreManagement.WEB.ViewModel.CustomerTrackingModel>


<link href="~/Content/PagedList.css" rel="stylesheet" />
@{
    ViewBag.Title = "跟进日志";
}

<hr />
<p>
    @Html.ActionLink("添加跟进日志", "AddTrackLogView", new {  ViewBag.Reception, ViewBag.trackingPeopleName, ViewBag.storeName, @class = "form-control", @Style = "font-size:12px" })
</p>
@using (Html.BeginForm("TrackLogIndex", "CustomerTrackLog", FormMethod.Get))
{
    <p>
        通过姓名查找: @Html.TextBox("SearchString", ViewBag.TrackingCurrentFilter as string, new { @class = "form-control", @Style = "display:inline" })
        <input id="Submit1" type="submit" value="查询" class="btn" />
    </p>
}
<hr />
@{ if (Model != null)
    {
        <div class="table-responsive">
            <table class="table table-striped">
                <tr>

                    <th width="10%">店铺</th>
                    <th>接待序号</th>
                    <th>跟进时间</th>
                    <th>跟进方式</th>
                    <th>跟进内容</th>
                    <th>跟进结果</th>
                    <th>店长审核</th>
                    <th>备注</th>
                    <th>是否申请设计师</th>
                    <th>跟进人</th>
                    <th width="10%">操作</th>

                </tr>
                @foreach (var item in Model)
                {

                    if (item.跟进内容 == null)
                    {
                        #region 如果没有跟进内容
                        <tr style="color:red">
                            <td style="display:none"> @Html.DisplayFor(modelItem => item.Id)</td>
                            <td> @Html.DisplayFor(modelItem => item.店铺)</td>
                            <td> @Html.DisplayFor(modelItem => item.接待序号)</td>
                            <td> @Html.DisplayFor(modelItem => item.跟进时间)</td>
                            <td> @Html.DisplayFor(modelItem => item.跟进方式)</td>
                            <td> @Html.DisplayFor(modelItem => item.跟进内容)</td>
                            <td> @Html.DisplayFor(modelItem => item.跟进结果)</td>
                            <td> @Html.DisplayFor(modelItem => item.店长审核)</td>
                            <td> @Html.DisplayFor(modelItem => item.备注)</td>


                            @{
                                if (item.是否申请设计师 == true)
                                {

                                    <td>是</td>
                                }
                                else if (item.是否申请设计师 == false)
                                {

                                    <td>否</td>
                                }
                                else
                                {
                                    <td>待定</td>
                                }

                            }
                            <td> @Html.DisplayFor(modelItem => item.跟进人)</td>
                            <td>
                                @Html.ActionLink("编辑", "EditTrackLog", new { id = item.Id })|@Html.ActionLink("添加预购", "AddExceptedBuyView", new { receptionid = item.Id, @class = "form-control", @Style = "font-size:12px" })
                            </td>
                        </tr>
                        #endregion
                    }

                    else
                    {
                        #region 有跟进内容
                         <tr>
                        <td style="display:none"> @Html.DisplayFor(modelItem => item.Id)</td>
                        <td> @Html.DisplayFor(modelItem => item.店铺)</td>
                        <td> @Html.DisplayFor(modelItem => item.接待序号)</td>
                        <td> @Html.DisplayFor(modelItem => item.跟进时间)</td>
                        <td> @Html.DisplayFor(modelItem => item.跟进方式)</td>
                        <td> @Html.DisplayFor(modelItem => item.跟进内容)</td>
                        <td> @Html.DisplayFor(modelItem => item.跟进结果)</td>
                        <td> @Html.DisplayFor(modelItem => item.店长审核)</td>
                        <td> @Html.DisplayFor(modelItem => item.备注)</td>


                        @{
                            if (item.是否申请设计师 == true)
                            {

                                <td>是</td>
                            }
                            else if (item.是否申请设计师 == false)
                            {

                                <td>否</td>
                            }
                            else
                            {
                                <td>待定</td>
                            }

                        }
                        <td> @Html.DisplayFor(modelItem => item.跟进人)</td>
                        <td>
                            @Html.ActionLink("编辑", "EditTrackLog", new { id = item.Id })|@Html.ActionLink("添加预购", "AddExceptedBuyView", new { receptionid = item.Id, @class = "form-control", @Style = "font-size:12px" })
                        </td>
                        </tr>
                        #endregion
                    }

                }
            </table>
        </div>

    }
}
<a onclick="javascript:window.history.go(-1);" value="返回上一页">返回上一页</a>